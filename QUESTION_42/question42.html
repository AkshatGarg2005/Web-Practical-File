<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Q16 â€“ Union & Intersection (Console Only)</title>
</head>
<body>
  <script>
    // Union & intersection for two *sorted* arrays (ignores duplicates)
    (() => {
      const union = (a, b) => {
        const res = [];
        let i = 0,
          j = 0,
          last;

        while (i < a.length || j < b.length) {
          const x = i < a.length ? a[i] : Infinity;
          const y = j < b.length ? b[j] : Infinity;
          let v;

          if (x < y) {
            v = x;
            i++;
          } else if (y < x) {
            v = y;
            j++;
          } else {
            v = x; // equal
            i++;
            j++;
          }

          if (v !== last) {
            res.push(v);
            last = v;
          }
        }
        return res;
      };

      const intersection = (a, b) => {
        const res = [];
        let i = 0,
          j = 0,
          last;

        while (i < a.length && j < b.length) {
          if (a[i] === b[j]) {
            if (a[i] !== last) {
              res.push(a[i]);
              last = a[i];
            }
            i++;
            j++;
          } else if (a[i] < b[j]) {
            i++;
          } else {
            j++;
          }
        }
        return res;
      };

      // Expose helpers to the console
      window.union = union;
      window.intersection = intersection;

      // Demo run
      const A = [1, 2, 2, 3, 5, 8];
      const B = [2, 3, 4, 8, 9];

      console.log("Q16: Union & Intersection (Sorted)");
      console.log("A:", A);
      console.log("B:", B);
      console.log("Union       :", union(A, B));
      console.log("Intersection:", intersection(A, B));
      console.log(
        '\nTry your own arrays in the console, e.g. union([1,3,5],[2,3,4]), intersection([1,3,5],[2,3,4])'
      );
    })();
  </script>
</body>
</html>